<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Creator Nickname Test</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }
        .test-section {
            margin: 20px 0;
            padding: 20px;
            border: 1px solid #ddd;
            border-radius: 8px;
        }
        .test-button {
            padding: 10px 20px;
            margin: 5px;
            background: #007bff;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }
        .test-button:hover {
            background: #0056b3;
        }
        .result {
            margin-top: 10px;
            padding: 10px;
            background: #f8f9fa;
            border-radius: 4px;
            font-family: monospace;
            white-space: pre-wrap;
        }
    </style>
</head>
<body>
    <h1>Creator Nickname Feature Test</h1>
    
    <div class="test-section">
        <h2>Test URLs</h2>
        <p>Test the creator nickname feature with these URLs:</p>
        <ol>
            <li>
                <strong>Create initial grid:</strong><br>
                <a href="./index.html" target="_blank">Go to index.html and create a grid with themes</a>
            </li>
            <li>
                <strong>Share the grid:</strong><br>
                After creating the grid, share it to get a shared.html URL
            </li>
            <li>
                <strong>Add images to shared grid:</strong><br>
                Open the shared.html URL and add images to the grid
            </li>
            <li>
                <strong>Share with creator nickname:</strong><br>
                Click "Gridをシェアする" - you should be prompted for your nickname
            </li>
            <li>
                <strong>View the final result:</strong><br>
                Open the theme-grid.html URL to see "[creator]が[original]をGridしました！"
            </li>
        </ol>
    </div>

    <div class="test-section">
        <h2>Test Data Generation</h2>
        <button class="test-button" onclick="generateTestData()">Generate Test Share Data</button>
        <div id="testResult" class="result"></div>
    </div>

    <script>
        function generateTestData() {
            const testData = {
                size: 2,
                sections: [
                    { title: '朝ごはん', theme: 'warm' },
                    { title: '昼ごはん', theme: 'cool' },
                    { title: '夜ごはん', theme: 'nature' },
                    { title: 'デザート', theme: 'elegant' }
                ],
                bgColor: '#FF8B25',
                nickname: '太郎',
                creatorNickname: '花子',
                images: {
                    0: 'data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEASABIAAD/2wBDAAMCAgICAgMCAgIDAwMDBAYEBAQEBAgGBgUGCQgKCgkICQkKDA8MCgsOCwkJDRENDg8QEBEQCgwSExIQEw8QEBD/wAALCAABAAEBAREA/8QAFAABAAAAAAAAAAAAAAAAAAAACP/EABQQAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQEAAD8AVN//2Q==',
                    1: 'data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEASABIAAD/2wBDAAMCAgICAgMCAgIDAwMDBAYEBAQEBAgGBgUGCQgKCgkICQkKDA8MCgsOCwkJDRENDg8QEBEQCgwSExIQEw8QEBD/wAALCAABAAEBAREA/8QAFAABAAAAAAAAAAAAAAAAAAAACP/EABQQAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQEAAD8AVN//2Q=='
                }
            };

            const encodedData = btoa(encodeURIComponent(JSON.stringify(testData)));
            const testUrl = `${window.location.origin}/theme-grid.html?data=${encodeURIComponent(encodedData)}`;
            
            document.getElementById('testResult').innerHTML = 
                `Test data generated!\n\n` +
                `Expected title: "花子が太郎をGridしました！"\n\n` +
                `Test URL:\n${testUrl}\n\n` +
                `<a href="${testUrl}" target="_blank">Open Test URL</a>`;
        }
    </script>
</body>
</html>